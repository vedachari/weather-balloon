{"ast":null,"code":"'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { getColorScale, getOrdinalColorScale } from \"../../../colorScale.js\";\nfunction addDefaultId(axisConfig, defaultId) {\n  if (axisConfig.id !== undefined) {\n    return axisConfig;\n  }\n  return _extends({\n    id: defaultId\n  }, axisConfig);\n}\nfunction processColorMap(axisConfig) {\n  if (!axisConfig.colorMap) {\n    return axisConfig;\n  }\n  return _extends({}, axisConfig, {\n    colorScale: axisConfig.colorMap.type === 'ordinal' && axisConfig.data ? getOrdinalColorScale(_extends({\n      values: axisConfig.data\n    }, axisConfig.colorMap)) : getColorScale(axisConfig.colorMap.type === 'continuous' ? _extends({\n      min: axisConfig.min,\n      max: axisConfig.max\n    }, axisConfig.colorMap) : axisConfig.colorMap)\n  });\n}\nfunction getZAxisState(zAxis, dataset) {\n  if (!zAxis || zAxis.length === 0) {\n    return {\n      axis: {},\n      axisIds: []\n    };\n  }\n  const zAxisLookup = {};\n  const axisIds = [];\n  zAxis.forEach((axisConfig, index) => {\n    const dataKey = axisConfig.dataKey;\n    const defaultizedId = axisConfig.id ?? `defaultized-z-axis-${index}`;\n    if (dataKey === undefined || axisConfig.data !== undefined) {\n      zAxisLookup[defaultizedId] = processColorMap(addDefaultId(axisConfig, defaultizedId));\n      axisIds.push(defaultizedId);\n      return;\n    }\n    if (dataset === undefined) {\n      throw new Error('MUI X Charts: z-axis uses `dataKey` but no `dataset` is provided.');\n    }\n    zAxisLookup[defaultizedId] = processColorMap(addDefaultId(_extends({}, axisConfig, {\n      data: dataset.map(d => d[dataKey])\n    }), defaultizedId));\n    axisIds.push(defaultizedId);\n  });\n  return {\n    axis: zAxisLookup,\n    axisIds\n  };\n}\nexport const useChartZAxis = ({\n  params,\n  store\n}) => {\n  const {\n    zAxis,\n    dataset\n  } = params;\n\n  // The effect do not track any value defined synchronously during the 1st render by hooks called after `useChartZAxis`\n  // As a consequence, the state generated by the 1st run of this useEffect will always be equal to the initialization one\n  const isFirstRender = React.useRef(true);\n  React.useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n    store.update(prev => _extends({}, prev, {\n      zAxis: getZAxisState(zAxis, dataset)\n    }));\n  }, [zAxis, dataset, store]);\n  return {};\n};\nuseChartZAxis.params = {\n  zAxis: true,\n  dataset: true\n};\nuseChartZAxis.getInitialState = params => ({\n  zAxis: getZAxisState(params.zAxis, params.dataset)\n});","map":{"version":3,"names":["_extends","React","getColorScale","getOrdinalColorScale","addDefaultId","axisConfig","defaultId","id","undefined","processColorMap","colorMap","colorScale","type","data","values","min","max","getZAxisState","zAxis","dataset","length","axis","axisIds","zAxisLookup","forEach","index","dataKey","defaultizedId","push","Error","map","d","useChartZAxis","params","store","isFirstRender","useRef","useEffect","current","update","prev","getInitialState"],"sources":["/Users/vedachari/projects/weather-balloon/node_modules/@mui/x-charts/esm/internals/plugins/featurePlugins/useChartZAxis/useChartZAxis.js"],"sourcesContent":["'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { getColorScale, getOrdinalColorScale } from \"../../../colorScale.js\";\nfunction addDefaultId(axisConfig, defaultId) {\n  if (axisConfig.id !== undefined) {\n    return axisConfig;\n  }\n  return _extends({\n    id: defaultId\n  }, axisConfig);\n}\nfunction processColorMap(axisConfig) {\n  if (!axisConfig.colorMap) {\n    return axisConfig;\n  }\n  return _extends({}, axisConfig, {\n    colorScale: axisConfig.colorMap.type === 'ordinal' && axisConfig.data ? getOrdinalColorScale(_extends({\n      values: axisConfig.data\n    }, axisConfig.colorMap)) : getColorScale(axisConfig.colorMap.type === 'continuous' ? _extends({\n      min: axisConfig.min,\n      max: axisConfig.max\n    }, axisConfig.colorMap) : axisConfig.colorMap)\n  });\n}\nfunction getZAxisState(zAxis, dataset) {\n  if (!zAxis || zAxis.length === 0) {\n    return {\n      axis: {},\n      axisIds: []\n    };\n  }\n  const zAxisLookup = {};\n  const axisIds = [];\n  zAxis.forEach((axisConfig, index) => {\n    const dataKey = axisConfig.dataKey;\n    const defaultizedId = axisConfig.id ?? `defaultized-z-axis-${index}`;\n    if (dataKey === undefined || axisConfig.data !== undefined) {\n      zAxisLookup[defaultizedId] = processColorMap(addDefaultId(axisConfig, defaultizedId));\n      axisIds.push(defaultizedId);\n      return;\n    }\n    if (dataset === undefined) {\n      throw new Error('MUI X Charts: z-axis uses `dataKey` but no `dataset` is provided.');\n    }\n    zAxisLookup[defaultizedId] = processColorMap(addDefaultId(_extends({}, axisConfig, {\n      data: dataset.map(d => d[dataKey])\n    }), defaultizedId));\n    axisIds.push(defaultizedId);\n  });\n  return {\n    axis: zAxisLookup,\n    axisIds\n  };\n}\nexport const useChartZAxis = ({\n  params,\n  store\n}) => {\n  const {\n    zAxis,\n    dataset\n  } = params;\n\n  // The effect do not track any value defined synchronously during the 1st render by hooks called after `useChartZAxis`\n  // As a consequence, the state generated by the 1st run of this useEffect will always be equal to the initialization one\n  const isFirstRender = React.useRef(true);\n  React.useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n    store.update(prev => _extends({}, prev, {\n      zAxis: getZAxisState(zAxis, dataset)\n    }));\n  }, [zAxis, dataset, store]);\n  return {};\n};\nuseChartZAxis.params = {\n  zAxis: true,\n  dataset: true\n};\nuseChartZAxis.getInitialState = params => ({\n  zAxis: getZAxisState(params.zAxis, params.dataset)\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}