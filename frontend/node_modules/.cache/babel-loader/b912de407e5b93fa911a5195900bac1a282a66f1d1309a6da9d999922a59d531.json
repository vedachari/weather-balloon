{"ast":null,"code":"'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nexport const useChartAnimation = ({\n  params,\n  store\n}) => {\n  React.useEffect(() => {\n    store.update(prevState => {\n      return _extends({}, prevState, {\n        animation: _extends({}, prevState.animation, {\n          skip: params.skipAnimation\n        })\n      });\n    });\n  }, [store, params.skipAnimation]);\n  const disableAnimation = React.useCallback(() => {\n    let disableCalled = false;\n    store.update(prevState => _extends({}, prevState, {\n      animation: _extends({}, prevState.animation, {\n        skipAnimationRequests: prevState.animation.skipAnimationRequests + 1\n      })\n    }));\n    return () => {\n      if (disableCalled) {\n        return;\n      }\n      disableCalled = true;\n      store.update(prevState => _extends({}, prevState, {\n        animation: _extends({}, prevState.animation, {\n          skipAnimationRequests: prevState.animation.skipAnimationRequests - 1\n        })\n      }));\n    };\n  }, [store]);\n  useEnhancedEffect(() => {\n    // Skip animation test/jsdom\n    const isAnimationDisabledEnvironment = typeof window === 'undefined' || !window?.matchMedia;\n    if (isAnimationDisabledEnvironment) {\n      return undefined;\n    }\n    let disableAnimationCleanup;\n    const handleMediaChange = event => {\n      if (event.matches) {\n        disableAnimationCleanup = disableAnimation();\n      } else {\n        disableAnimationCleanup?.();\n      }\n    };\n    const mql = window.matchMedia('(prefers-reduced-motion)');\n    handleMediaChange(mql);\n    mql.addEventListener('change', handleMediaChange);\n    return () => {\n      mql.removeEventListener('change', handleMediaChange);\n    };\n  }, [disableAnimation, store]);\n  return {\n    instance: {\n      disableAnimation\n    }\n  };\n};\nuseChartAnimation.params = {\n  skipAnimation: true\n};\nuseChartAnimation.getDefaultizedParams = ({\n  params\n}) => _extends({}, params, {\n  skipAnimation: params.skipAnimation ?? false\n});\nuseChartAnimation.getInitialState = ({\n  skipAnimation\n}) => {\n  const isAnimationDisabledEnvironment = typeof window === 'undefined' || !window?.matchMedia;\n\n  // We use the value of `isAnimationDisabledEnvironment` as the initial value of `skipAnimation` to avoid\n  // re-rendering the component on environments where matchMedia is not supported, hence skipAnimation will always be true.\n  const disableAnimations = process.env.NODE_ENV === 'test' ? isAnimationDisabledEnvironment : false;\n  return {\n    animation: {\n      skip: skipAnimation,\n      // By initializing the skipAnimationRequests to 1, we ensure that the animation is always skipped\n      skipAnimationRequests: disableAnimations ? 1 : 0\n    }\n  };\n};","map":{"version":3,"names":["_extends","React","useEnhancedEffect","useChartAnimation","params","store","useEffect","update","prevState","animation","skip","skipAnimation","disableAnimation","useCallback","disableCalled","skipAnimationRequests","isAnimationDisabledEnvironment","window","matchMedia","undefined","disableAnimationCleanup","handleMediaChange","event","matches","mql","addEventListener","removeEventListener","instance","getDefaultizedParams","getInitialState","disableAnimations","process","env","NODE_ENV"],"sources":["/Users/vedachari/projects/weather-balloon/node_modules/@mui/x-charts/esm/internals/plugins/corePlugins/useChartAnimation/useChartAnimation.js"],"sourcesContent":["'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nexport const useChartAnimation = ({\n  params,\n  store\n}) => {\n  React.useEffect(() => {\n    store.update(prevState => {\n      return _extends({}, prevState, {\n        animation: _extends({}, prevState.animation, {\n          skip: params.skipAnimation\n        })\n      });\n    });\n  }, [store, params.skipAnimation]);\n  const disableAnimation = React.useCallback(() => {\n    let disableCalled = false;\n    store.update(prevState => _extends({}, prevState, {\n      animation: _extends({}, prevState.animation, {\n        skipAnimationRequests: prevState.animation.skipAnimationRequests + 1\n      })\n    }));\n    return () => {\n      if (disableCalled) {\n        return;\n      }\n      disableCalled = true;\n      store.update(prevState => _extends({}, prevState, {\n        animation: _extends({}, prevState.animation, {\n          skipAnimationRequests: prevState.animation.skipAnimationRequests - 1\n        })\n      }));\n    };\n  }, [store]);\n  useEnhancedEffect(() => {\n    // Skip animation test/jsdom\n    const isAnimationDisabledEnvironment = typeof window === 'undefined' || !window?.matchMedia;\n    if (isAnimationDisabledEnvironment) {\n      return undefined;\n    }\n    let disableAnimationCleanup;\n    const handleMediaChange = event => {\n      if (event.matches) {\n        disableAnimationCleanup = disableAnimation();\n      } else {\n        disableAnimationCleanup?.();\n      }\n    };\n    const mql = window.matchMedia('(prefers-reduced-motion)');\n    handleMediaChange(mql);\n    mql.addEventListener('change', handleMediaChange);\n    return () => {\n      mql.removeEventListener('change', handleMediaChange);\n    };\n  }, [disableAnimation, store]);\n  return {\n    instance: {\n      disableAnimation\n    }\n  };\n};\nuseChartAnimation.params = {\n  skipAnimation: true\n};\nuseChartAnimation.getDefaultizedParams = ({\n  params\n}) => _extends({}, params, {\n  skipAnimation: params.skipAnimation ?? false\n});\nuseChartAnimation.getInitialState = ({\n  skipAnimation\n}) => {\n  const isAnimationDisabledEnvironment = typeof window === 'undefined' || !window?.matchMedia;\n\n  // We use the value of `isAnimationDisabledEnvironment` as the initial value of `skipAnimation` to avoid\n  // re-rendering the component on environments where matchMedia is not supported, hence skipAnimation will always be true.\n  const disableAnimations = process.env.NODE_ENV === 'test' ? isAnimationDisabledEnvironment : false;\n  return {\n    animation: {\n      skip: skipAnimation,\n      // By initializing the skipAnimationRequests to 1, we ensure that the animation is always skipped\n      skipAnimationRequests: disableAnimations ? 1 : 0\n    }\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}