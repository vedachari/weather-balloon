{"ast":null,"code":"'use client';\n\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport { ANIMATION_DURATION_MS, ANIMATION_TIMING_FUNCTION_JS } from \"./animation.js\";\nimport { Transition } from \"./Transition.js\";\nimport { shallowEqual } from \"../shallowEqual.js\";\n\n/** Animates a ref. The animation can be skipped by setting {@link skip} to true.\n *\n * If possible, prefer {@link useAnimate}.\n *\n * - If {@link skip} is false, a transition will be started.\n * - If {@link skip} is true and no transition is in progress, no transition will be started and {@link applyProps} will\n *   never be called.\n * - If {@link skip} becomes true and a transition is in progress, the transition will immediately end and\n *   {@link applyProps} be called with the final value.\n * */\nexport function useAnimateInternal(props, {\n  createInterpolator,\n  applyProps,\n  skip,\n  initialProps = props\n}) {\n  const lastInterpolatedPropsRef = React.useRef(initialProps);\n  const transitionRef = React.useRef(null);\n  const elementRef = React.useRef(null);\n  const lastPropsRef = React.useRef(props);\n  useEnhancedEffect(() => {\n    lastPropsRef.current = props;\n  }, [props]);\n  useEnhancedEffect(() => {\n    if (skip) {\n      transitionRef.current?.finish();\n      transitionRef.current = null;\n      elementRef.current = null;\n      lastInterpolatedPropsRef.current = props;\n    }\n  }, [props, skip]);\n  const animate = React.useCallback(element => {\n    const lastInterpolatedProps = lastInterpolatedPropsRef.current;\n    const interpolate = createInterpolator(lastInterpolatedProps, props);\n    transitionRef.current = new Transition(ANIMATION_DURATION_MS, ANIMATION_TIMING_FUNCTION_JS, t => {\n      const interpolatedProps = interpolate(t);\n      lastInterpolatedPropsRef.current = interpolatedProps;\n      applyProps(element, interpolatedProps);\n    });\n  }, [applyProps, createInterpolator, props]);\n  const setRef = React.useCallback(element => {\n    if (element === null) {\n      transitionRef.current?.stop();\n      return;\n    }\n    const lastElement = elementRef.current;\n    if (lastElement === element) {\n      // If it's the same element and same props, resume the transition.\n      if (shallowEqual(lastPropsRef.current, props)) {\n        transitionRef.current?.resume();\n        return;\n      }\n\n      // If props aren't the same, stop the transition and start a new animation.\n      transitionRef.current?.stop();\n    }\n\n    // If it's a different element, stop the transition of the last element and start a new animation.\n    if (lastElement) {\n      transitionRef.current?.stop();\n    }\n    elementRef.current = element;\n    if (transitionRef.current || !skip) {\n      animate(element);\n    }\n  }, [animate, props, skip]);\n  return [setRef, lastInterpolatedPropsRef.current];\n}","map":{"version":3,"names":["React","useEnhancedEffect","ANIMATION_DURATION_MS","ANIMATION_TIMING_FUNCTION_JS","Transition","shallowEqual","useAnimateInternal","props","createInterpolator","applyProps","skip","initialProps","lastInterpolatedPropsRef","useRef","transitionRef","elementRef","lastPropsRef","current","finish","animate","useCallback","element","lastInterpolatedProps","interpolate","t","interpolatedProps","setRef","stop","lastElement","resume"],"sources":["/Users/vedachari/projects/weather-balloon/node_modules/@mui/x-charts/esm/internals/animation/useAnimateInternal.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport { ANIMATION_DURATION_MS, ANIMATION_TIMING_FUNCTION_JS } from \"./animation.js\";\nimport { Transition } from \"./Transition.js\";\nimport { shallowEqual } from \"../shallowEqual.js\";\n\n/** Animates a ref. The animation can be skipped by setting {@link skip} to true.\n *\n * If possible, prefer {@link useAnimate}.\n *\n * - If {@link skip} is false, a transition will be started.\n * - If {@link skip} is true and no transition is in progress, no transition will be started and {@link applyProps} will\n *   never be called.\n * - If {@link skip} becomes true and a transition is in progress, the transition will immediately end and\n *   {@link applyProps} be called with the final value.\n * */\nexport function useAnimateInternal(props, {\n  createInterpolator,\n  applyProps,\n  skip,\n  initialProps = props\n}) {\n  const lastInterpolatedPropsRef = React.useRef(initialProps);\n  const transitionRef = React.useRef(null);\n  const elementRef = React.useRef(null);\n  const lastPropsRef = React.useRef(props);\n  useEnhancedEffect(() => {\n    lastPropsRef.current = props;\n  }, [props]);\n  useEnhancedEffect(() => {\n    if (skip) {\n      transitionRef.current?.finish();\n      transitionRef.current = null;\n      elementRef.current = null;\n      lastInterpolatedPropsRef.current = props;\n    }\n  }, [props, skip]);\n  const animate = React.useCallback(element => {\n    const lastInterpolatedProps = lastInterpolatedPropsRef.current;\n    const interpolate = createInterpolator(lastInterpolatedProps, props);\n    transitionRef.current = new Transition(ANIMATION_DURATION_MS, ANIMATION_TIMING_FUNCTION_JS, t => {\n      const interpolatedProps = interpolate(t);\n      lastInterpolatedPropsRef.current = interpolatedProps;\n      applyProps(element, interpolatedProps);\n    });\n  }, [applyProps, createInterpolator, props]);\n  const setRef = React.useCallback(element => {\n    if (element === null) {\n      transitionRef.current?.stop();\n      return;\n    }\n    const lastElement = elementRef.current;\n    if (lastElement === element) {\n      // If it's the same element and same props, resume the transition.\n      if (shallowEqual(lastPropsRef.current, props)) {\n        transitionRef.current?.resume();\n        return;\n      }\n\n      // If props aren't the same, stop the transition and start a new animation.\n      transitionRef.current?.stop();\n    }\n\n    // If it's a different element, stop the transition of the last element and start a new animation.\n    if (lastElement) {\n      transitionRef.current?.stop();\n    }\n    elementRef.current = element;\n    if (transitionRef.current || !skip) {\n      animate(element);\n    }\n  }, [animate, props, skip]);\n  return [setRef, lastInterpolatedPropsRef.current];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}